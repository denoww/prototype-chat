angular.module 'app', [
  'sc.app.helpers', 'ngRoute', 'ngResource'
]

.config [
  '$routeProvider', '$locationProvider', '$resourceProvider'
  ($routeProvider, $locationProvider, $resourceProvider) ->

    $routeProvider
      .when '/',
        templateUrl: "<%= asset_path("Historic/index") %>"
        controller: 'Contato::indexCtrl'
      .when '/historico',
        templateUrl: "<%= asset_path("Historic/index") %>"
        controller: 'Contato::indexCtrl'

    $locationProvider.html5Mode true
]

.run [
  '$rootScope', 'scAlert', 'scTopMessages'
  ($rootScope, scAlert, scTopMessages)->
    $rootScope.scAlert = scAlert
    $rootScope.scTopMessages = scTopMessages
]

.controller 'controll', [
  '$scope', '$filter', '$timeout'
  (sc, $filter, $timeout)->

    sc.chatDef =
      limit: 0
      adm: false
      plus: false
      open: false
      chat: false
      fixed: false
      active: true
      mobile: false
      suporte: true
      usuario: false
      modeList: true
      modeRecente: false
]

$(window).load ()->
  setTimeout ()->
    $('#body-loading').removeClass('active')
  , 500

$(document).ready ()->
  $('#body-loading').addClass('active')
